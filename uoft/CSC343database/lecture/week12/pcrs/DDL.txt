DROP SCHEMA IF EXISTS MusicService CASCADE;
CREATE SCHEMA MusicService;
SET SEARCH_PATH TO MusicService;

CREATE TABLE Movies (
	MID 		INTEGER PRIMARY KEY,
	year 		INTEGER NOT NULL,
	rating 		FLOAT NOT NULL,
	winner 		VARCHAR(3) NOT NULL,
	title 		VARCHAR(50) NOT NULL,
	Role		VARCHAR(30) NOT NULL,
	Category	VARCHAR(30),
	Subcategory	VARCHAR(30),
	OID			INTEGER REFERENCES Oscars(OID),
	PID			INTEGER NOT NULL REFERENCES People(PID), 
	CHECK (winner IN('yes', 'no'))
);

CREATE TABLE Oscars (
	Type		VARCHAR(30),
	OID 		INTEGER PRIMARY KEY,
	year		INTEGER NOT NULL,
	UNIQUE (Type, year),
);

CRAETE TABLE People (
	First 		VARCHAR(30) NOT NULL,
	Last 		VARCHAR(30) NOT NULL,
	PID 		INTEGER PRIMARY KEY,
	gender		VARCHAR(10) NOT NULL,
	dob 		DATE,
	pob 		VARCHAR(30),
	OID			INTEGER NOT NULL REFERENCES Oscars(OID),
);